CC=@CC@
CFLAGS=-Wall -O
SBINDIR=@SBINDIR@
TARGET=ihkconfig ihkosctl memdump pagetable maccess memdump-mic

IHKBASE ?= ../../../ihk

.PHONY: all clean install

all: ihk $(TARGET)

ihk:
	rm -f ihk; ln -s $(IHKBASE)/linux/include/ihk ihk

clean:
	$(RM) $(TARGET) *.o

install:
	mkdir -p -m 755 $(SBINDIR)
	install -m 755 ihkconfig $(SBINDIR)/ihkconfig
	install -m 755 ihkosctl $(SBINDIR)/ihkosctl
